<div class="view-wrap">
  <div class="home-page">
    <section class="stock-card">
      <div class="home-topbar">
        <div class="home-page-title">Home Dashboard</div>
        <div class="home-cache-controls">
          <button id="homeFullRefreshBtn" class="btn qtButton home-full-refresh-btn" type="button">Full App Refresh</button>
          <button id="homeRefreshBtn" class="btn qtButton" type="button">Refresh</button>
          <span id="homeRefreshingBadge" class="home-refreshing-badge" style="display:none;">Refreshing...</span>
          <span id="homeLastUpdated" class="stock-note">Last updated: --</span>
        </div>
      </div>
    </section>

    <section class="stock-card home-regime-panel">
      <div class="stock-card-title">Market Regime</div>
      <div class="home-regime-panel-grid">
        <div>
          <div id="homeRegimeStrip" class="home-regime-strip"></div>
          <div id="homeRegimeComponents" class="home-regime-components"></div>
        </div>
        <div>
          <div class="stock-card-title" style="margin:0 0 8px 0;">Suggested Playbook</div>
          <div id="homePlaybookChips" class="home-playbook-chips"></div>
        </div>
      </div>
    </section>

    <section class="stock-card home-playbook-panel">
      <div class="stock-card-title">Strategy Playbook</div>
      <div id="homeStrategyPlaybook" class="home-strategy-playbook"></div>
    </section>

    <div class="home-grid">
      <section class="home-col">
        <div class="stock-card">
          <div class="stock-card-title">Major Index Panel</div>
          <div id="homeIndexTiles" class="home-index-tiles"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">SPY Price Chart (6M)</div>
          <svg id="homeSpyChart" class="home-chart" viewBox="0 0 800 220" preserveAspectRatio="none"></svg>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">Sector Performance</div>
          <div id="homeSectorBars" class="home-sector-bars"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">Signal Hub</div>
          <div id="homeSignalHub" class="home-signal-hub"></div>
        </div>
      </section>

      <section class="home-col">
        <div class="stock-card home-top-pick-card">
          <div class="home-opportunity-head">
            <div class="stock-card-title">Opportunity Engine • Top Pick</div>
            <div class="home-opportunity-actions">
              <label for="homeScanPreset" class="stock-note home-queue-label">Scan Queue</label>
              <select id="homeScanPreset" class="home-queue-select" aria-label="Scan Queue preset">
                <option value="quick">Quick</option>
                <option value="balanced" selected>Balanced</option>
                <option value="full_sweep">Full Sweep</option>
              </select>
              <button id="homeRunQueueBtn" class="btn qtButton" type="button">Run Queue</button>
              <button id="homeStopQueueBtn" class="btn qtButton" type="button" disabled>Stop</button>
            </div>
          </div>
          <div id="homeQueueProgress" class="home-queue-progress" style="display:none;">
            <span id="homeQueueSpinner" class="home-scan-spinner" style="display:none;" aria-hidden="true"></span>
            <span id="homeQueueCurrent" class="stock-note">Idle</span>
            <span id="homeQueueCount" class="stock-note">0/0</span>
          </div>
          <div id="homeQueueLog" class="home-queue-log" style="display:none;"></div>
          <div id="homeScanStatus" class="stock-note" style="margin-bottom:6px;display:none;"></div>
          <div id="homeScanError" class="active-error" style="display:none;margin-bottom:6px;"></div>
          <div id="homeTopPick"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">Top Trade Opportunities</div>
          <div id="homeOpportunities" class="home-opportunities"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">Strategy Leaderboard</div>
          <div class="risk-table-wrap">
            <table class="risk-table">
              <thead>
                <tr>
                  <th>Strategy</th>
                  <th>Avg Quality</th>
                  <th>Avg RoR</th>
                  <th>Trades</th>
                </tr>
              </thead>
              <tbody id="homeStrategyRows"></tbody>
            </table>
          </div>
          <div id="homeStrategyMini" class="home-strategy-mini"></div>
        </div>
      </section>

      <section class="home-col">
        <div class="stock-card">
          <div class="stock-card-title">Risk & Macro • Portfolio Risk Snapshot</div>
          <div id="homeRiskTiles" class="home-risk-tiles"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">Macro Indicators</div>
          <div id="homeMacroTiles" class="home-macro-tiles"></div>
        </div>

        <div class="stock-card">
          <div class="stock-card-title">VIX Chart (3M)</div>
          <svg id="homeVixChart" class="home-chart" viewBox="0 0 800 220" preserveAspectRatio="none"></svg>
        </div>

      </section>
    </div>

    <div id="homeError" class="active-error" style="display:none;"></div>
  </div>
</div>
